(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-145b1440"],{"23ec":function(e,t,a){"use strict";a("c0f1")},"6de7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-card",{staticClass:"white pa-2 mx-0",attrs:{tile:""}},[a("v-card-title",[e._v("Vergleich mit vorhandenen Konten")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{elevation:"2"},on:{click:e.searchDouble}},[e._v("Doppelte suchen")])],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{elevation:"2"},on:{click:e.updateSelected}},[e._v("Selektierte Konten aktualisieren")])],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{attrs:{elevation:"2"},on:{click:e.updateNextcloud}},[e._v("Update NextCloud")])],1)],1)],1)],1)],1),a("v-card",{staticClass:"mx-auto mt-10",attrs:{outlined:""}},[0==e.susChange.length?a("v-card-title",[e._v("Zu ändernde Konten")]):e._e(),0!=e.susChange.length?a("v-card-title",[e._v(e._s(e.susChange.length)+" zu ändernde Konten")]):e._e(),a("VueTabulator",{ref:"tabChange",staticClass:"table-striped table-sm overflow-y-auto",attrs:{integration:{updateStrategy:"UPDATE"},options:e.configuration},on:{"cell-edited":e.cellEditedChanged},model:{value:e.susChange,callback:function(t){e.susChange=t},expression:"susChange"}})],1),a("v-card",{staticClass:"mx-auto mt-10",attrs:{outlined:""}},[0==e.susNew?a("v-card-title",[e._v("Neu anzulegende SuS-Konten")]):e._e(),0!=e.susNew?a("v-card-title",[e._v(e._s(e.susNew.length)+" neu anzulegende SuS-Konten")]):e._e(),a("VueTabulator",{ref:"tabNew",staticClass:"table-striped table-sm overflow-y-auto",attrs:{integration:{updateStrategy:"UPDATE"},options:e.configuration},on:{"cell-edited":e.cellEditedNew},model:{value:e.susNew,callback:function(t){e.susNew=t},expression:"susNew"}})],1),a("v-card",{staticClass:"mx-auto mt-10",attrs:{outlined:""}},[0==e.susDelete?a("v-card-title",[e._v("Zu löschende SuS-Konten")]):e._e(),0!=e.susDelete?a("v-card-title",[e._v(e._s(e.susDelete.length)+" zu löschende SuS-Konten")]):e._e(),a("VueTabulator",{ref:"tabDelete",staticClass:"table-striped table-sm overflow-y-auto",attrs:{integration:{updateStrategy:"UPDATE"},options:e.configuration},on:{"cell-edited":e.cellEditedDel},model:{value:e.susDelete,callback:function(t){e.susDelete=t},expression:"susDelete"}})],1)],1)},r=[],s=a("5530"),o=a("2f62"),l=a("64db"),i=a("f121"),c={name:"LoadFile",data:function(){return{choosenFile:null,search:"",susChange:[],susNew:[],susDelete:[],accDouble:[],configuration:{resizableRows:!1,maxHeight:"40vH",index:"id",layout:"fitDataStretch",columns:[]}}},mounted:function(){this.currentUser||this.$router.push("/login"),this.loadConfig(),this.checkAccounts()},computed:Object(s["a"])({},Object(o["b"])("auth",["currentUser"])),methods:{loadConfig:function(){this.configuration.columns=[{formatter:"rowSelection",titleFormatter:"rowSelection",hozAlign:"center",headerSort:!1,cellClick:function(e,t){t.getRow().toggleSelect()}},{title:"Klasse",field:"klasse",width:100,sorter:"string",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"bklasse"}},{title:"Name",field:"anzeigeName",width:200,sorter:"string",editor:"input",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"banzeigeName"}},{title:"Login",field:"loginName",width:100,sorter:"string",editor:"input",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"bloginName"}},{title:"Nachname",field:"nachname",width:150,sorter:"string",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"bnachname"}},{title:"Vorname",field:"vorname",width:150,sorter:"string",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"bvorname"}},{title:"GebDatum",field:"geburtstag",sorter:"string",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"bgeburtstag"}},{title:"EMail",field:"email",width:200,sorter:"string",headerFilter:"input",formatter:function(e,t,a){return u(e,t,a)},formatterParams:{col:"bemail"}},{title:"ID",field:"id",width:200,sorter:"string",headerFilter:"input"}]},loadLDAP:function(){l["a"].get(i["d"])},checkAccounts:function(){var e=this;this.$store.dispatch("domain/readAccState").then((function(){e.susChange=e.$store.getters["domain/getToChange"],e.$refs.tabChange.getInstance().replaceData(e.susChange),e.susNew=e.$store.getters["domain/getToNew"],e.$refs.tabNew.getInstance().replaceData(e.susNew),e.susDelete=e.$store.getters["domain/getToDelete"],e.$refs.tabDelete.getInstance().replaceData(e.susDelete)}))},searchDouble:function(){var e=this;this.$store.dispatch("domain/searchDouble").then((function(){e.accDouble=e.$store.getters["domain/getDouble"]}))},updateAccounts:function(){l["a"].get(i["k"]),this.checkAccounts()},updateSelected:function(){var e=this.$refs.tabChange.getInstance().getData("selected"),t=this.$refs.tabNew.getInstance().getData("selected"),a=this.$refs.tabDelete.getInstance().getData("selected"),n={unchanged:e.length+t.length+a.length,toCOld:[],toChange:e,toCreate:t,toDelete:a};l["a"].post(i["q"],n),this.checkAccounts()},updateNextcloud:function(){l["a"].get(i["m"])},cellEdited:function(e,t){var a=e._cell.row.data;console.log("New Row data: "+a),l["a"].postRow(t,a)},cellEditedChanged:function(e){this.cellEdited(e,i["n"])},cellEditedNew:function(e){this.cellEdited(e,i["p"])},cellEditedDel:function(e){this.cellEdited(e,i["o"])}}};function u(e,t,a){var n=e.getData();return n[t.col]&&(e.getElement().style.color="#c62020"),e.getValue()}var d=c,g=(a("23ec"),a("2877")),h=a("6544"),f=a.n(h),m=a("8336"),v=a("b0af"),b=a("99d9"),p=a("62ad"),w=a("a523"),D=a("0fd9"),C=Object(g["a"])(d,n,r,!1,null,null,null);t["default"]=C.exports;f()(C,{VBtn:m["a"],VCard:v["a"],VCardText:b["a"],VCardTitle:b["b"],VCol:p["a"],VContainer:w["a"],VRow:D["a"]})},c0f1:function(e,t,a){}}]);
//# sourceMappingURL=chunk-145b1440.4cef10e1.js.map